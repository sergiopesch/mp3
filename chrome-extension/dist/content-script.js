(()=>{"use strict";function e(){const e=[];return document.querySelectorAll('a[href*=".mp3"]').forEach(t=>{const r=t;e.push({url:r.href,source:"link",title:r.textContent?.trim()||void 0})}),document.querySelectorAll("audio").forEach(t=>{t.src&&t.src.endsWith(".mp3")&&e.push({url:t.src,source:"audio",title:t.title||void 0}),t.querySelectorAll("source").forEach(t=>{t.src&&t.src.endsWith(".mp3")&&e.push({url:t.src,source:"source"})})}),e}chrome.runtime.onMessage.addListener((t,r,o)=>("DETECT_MP3S"===t.type&&o({mp3s:e()}),!0)),new MutationObserver(t=>{clearTimeout(window.mp3DetectionTimer),window.mp3DetectionTimer=setTimeout(()=>{const t=e();t.length>0&&chrome.runtime.sendMessage({type:"MP3S_DETECTED",mp3s:t})},500)}).observe(document.body,{childList:!0,subtree:!0}),console.log("MP3 Extractor content script loaded")})();